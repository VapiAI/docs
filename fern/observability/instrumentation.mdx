---
title: Instrumentation
subtitle: Configure your assistant to capture operational and business metrics. This is the **INSTRUMENT phase** of the [observability framework](/observability/framework).
slug: observability/instrumentation
---

<span className="internal-note">This page is in Rough Draft stage</span>

## What is instrumentation?

**Instrumentation** means configuring your assistant to capture data during and after calls. Before you can test, monitor, or optimize, you need to define **what data to capture**.

## Two types of instrumentation

Like AWS provides basic server metrics (CPU, memory, network) but requires you to add custom metrics for business logic, **Vapi provides built-in operational instrumentation but requires you to configure business-specific instrumentation**.

### Built-in (automatic) instrumentation

**Purpose**: Track technical operation and system health.

Vapi automatically captures technical and operational data for every call - duration, cost, transcripts, tool calls, and performance metrics. This data helps you understand **how the system is performing** from an infrastructure perspective.

You get this data with zero configuration. No setup required.

### Custom (user-defined) instrumentation

**Purpose**: Track business outcomes and domain-specific metrics.

Custom instrumentation (via Structured Outputs and Call Analysis) lets you define **what success means for your use case**. Did the assistant book an appointment? Collect customer information? Resolve the user's question? These outcomes are specific to your business logic, so you must explicitly configure what to capture.

Custom instrumentation requires you to define schemas (via Structured Outputs) that tell Vapi what business data to extract from each call.

### The key decision

**What business metrics do you need beyond Vapi's automatic operational data?**

Think of instrumentation as installing sensors in your assistant:
- What information do you need to evaluate call success?
- What metrics will help you debug failures?
- What data do you need for compliance or reporting?

The schemas you define here become the assertions your Evals validate in the [TEST stage](/observability/testing-strategies).

The "Instrumentation tools at a glance" section below shows how to configure custom instrumentation.

---

## Instrumentation tools at a glance

| Tool                         | What it does                                                                                                                         | Configuration                                              |
| ---------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------- |
| **Built-in Instrumentation** | Automatic capture of call metadata (duration, cost, timestamps), transcripts, messages, tool calls, operational metrics.             | ✅ Automatic - no configuration needed                     |
| **Structured Outputs**       | AI-powered data extraction using JSON Schema. Define custom schemas for customer info, call outcomes, sentiment analysis, summaries. | Configure schemas on assistant                          |
| **Call Analysis**            | Legacy feature for generating call summaries using AnalysisPlan configuration.                                                       | ⚠️ Legacy (use Structured Outputs for new implementations) |


<span className="vapi-validation">Confirm that this list of VAPI features mapped to Instrumentation phase is correct.</span>

---

## Built-in Instrumentation

### What Vapi captures automatically

Every call automatically includes:

- **Call metadata**: Duration, start/end timestamps, cost breakdown
- **Transcripts**: Full conversation text with speaker labels
- **Messages**: Array of all messages exchanged during the call
- **Tool calls**: Record of function calls, parameters, and responses
- **Operational metrics**: Latency, token usage, provider information

### Accessing built-in data

**Via Dashboard**:

- Navigate to Calls > [Call ID] to view full transcript and metadata
- Use Boards to query operational metrics (cost, duration, volume)

**Via API**:

- Call object includes all metadata, transcript, messages, tool calls
- Analytics API provides aggregated operational metrics
- Webhooks deliver complete call data to your endpoints

### When built-in is sufficient

Built-in instrumentation covers:

- ✅ Operational monitoring (cost, latency, volume)
- ✅ Debugging (transcripts, tool call traces)
- ✅ Basic analytics (call patterns, duration trends)

Built-in does NOT cover:

- ❌ Business metrics (booking created, lead quality, intent classification)
- ❌ Custom quality scores (sentiment, CSAT, success evaluation)
- ❌ Extracted customer data (name, phone, appointment details)

**Rule of thumb**: If you need to ask "Did this call achieve its business goal?", you need custom instrumentation.

---

## Structured Outputs

### What it does

**Structured Outputs** uses AI to extract and analyze data from calls based on JSON Schema definitions you provide.

**Key differentiators**:

- Uses JSON Schema for flexible, custom data extraction
- AI-powered analysis (can evaluate sentiment, satisfaction, success)
- Access to full transcript, messages, tool calls, and metadata
- Post-call automatic execution with validation

**When to use**:

- You need custom business metrics (booking created, lead qualified, intent classification)
- You want AI to evaluate quality (sentiment, CSAT, issue resolution)
- You need extracted customer data (name, contact info, preferences)
- You want structured, queryable data (not just summaries)

**Capabilities**:

- Extract customer information for CRM integration
- Evaluate call outcomes (success, booking, escalation needed)
- Measure quality metrics (sentiment, satisfaction, resolution)
- Generate structured summaries with specific data points

**Limitations**:

- Requires JSON Schema knowledge
- Schema design affects downstream queryability (see [Extraction patterns](/observability/extraction-patterns))
- AI extraction accuracy depends on call quality and schema clarity

**When NOT to use**:

- You only need simple call summaries (Structured Outputs can generate simple summaries too, but may be overkill if you don't need structured data)
- Built-in operational metrics are sufficient

→ **[Configure Structured Outputs: Quickstart](/assistants/structured-outputs-quickstart)**
→ **[See schema examples and patterns](/assistants/structured-outputs-examples)**

---

## Call Analysis

### What it does

**Call Analysis** generates AI-powered call summaries and evaluations using AnalysisPlan configuration.

**Key differentiators**:

- Simpler configuration than Structured Outputs (predefined templates)
- Focused on summaries and success evaluation
- Text-based output (not structured data)

**When to use**:

- You need basic call summaries
- Simple success/failure evaluation is sufficient
- You don't need structured, queryable data

**Capabilities**:

- Generate call summaries
- Evaluate call success
- Extract structured data using predefined formats

**Limitations**:

- Less flexible than Structured Outputs (predefined templates vs custom schemas)
- Text-based output (harder to query programmatically)
- Limited to summary/evaluation use cases

**When NOT to use**:

- You need custom structured data extraction → use Structured Outputs
- You need queryable metrics for dashboards → use Structured Outputs
- You need complex, domain-specific analysis → use Structured Outputs

<span className="vapi-validation">Confirm Call Analysis status - is this truly legacy/deprecated, or actively supported alongside Structured Outputs? This will help to position accordingly.</span>

→ **[Configure Call Analysis](/assistants/call-analysis)**

---

<Note>
  **Instrumentation happens at assistant configuration time**, not during the
  call. You define your schemas and analysis plans when building your assistant.
  The actual data extraction happens automatically after each call.
</Note>

---

## Instrumentation best practices

### Start simple, iterate

**Phase 1 - Basic business metrics**:

- Track call success (did we achieve the goal?)
- Capture essential customer info (name, contact details)

**Phase 2 - Add quality metrics as you scale**:

- Measure sentiment and satisfaction
- Categorize issues or intents
- Track resolution outcomes

**Phase 3 - Domain-specific analysis**:

- Add compliance tracking
- Industry-specific categorization
- Advanced quality scoring
- Multi-dimensional analysis

→ **[See implementation examples in Structured Outputs guide](/assistants/structured-outputs-examples)**

### Design for your extraction pattern

Your instrumentation choices affect downstream observability:

**Dashboard Native** (Boards-only monitoring):

- Design for queryability and visualization
- Consider what metrics you'll want to chart

**Webhook-to-External** (external analytics platforms):

- Design for your target system's data model
- Full flexibility in data structure

**Hybrid** (both Boards and external):

- Balance queryable operational metrics with rich analytical data

→ **[Choose your extraction pattern](/observability/extraction-patterns)** before finalizing instrumentation design

### Test your schemas

Before deploying to production:

1. Make 3-5 test calls covering common scenarios
2. Verify structured outputs populate correctly
3. Check data appears in Dashboard (if using Dashboard Native pattern)
4. Validate extraction accuracy (does AI extract the right data?)

---

## What you'll learn in detailed guides

- [Structured outputs quickstart](/assistants/structured-outputs-quickstart) — Set up your first structured output in 5 minutes
- [Structured outputs examples](/assistants/structured-outputs-examples) — Real-world schemas for common use cases
- [Call analysis](/assistants/call-analysis) — Legacy AnalysisPlan reference
- [Extraction patterns](/observability/extraction-patterns) — Choose Dashboard Native, Webhook, or Hybrid approach

---

## Key takeaway

**Instrument early**. The data you configure now determines what you can test, monitor, and optimize later. Missing instrumentation discovered in production means you're flying blind.

Start with basic business metrics (call success, customer info), then add quality and domain-specific instrumentation as you scale.

---

## Next steps

<CardGroup cols={2}>
  <Card
    title="Structured outputs quickstart"
    icon="database"
    href="/assistants/structured-outputs-quickstart"
  >
    Set up your first custom instrumentation
  </Card>

  <Card
    title="Testing strategies"
    icon="vial"
    href="/observability/testing-strategies"
  >
    Next stage: Validate your instrumented assistant
  </Card>

  <Card
    title="Extraction patterns"
    icon="diagram-project"
    href="/observability/extraction-patterns"
  >
    Choose your data extraction strategy
  </Card>

  <Card
    title="Back to framework"
    icon="arrow-left"
    href="/observability/framework"
  >
    Return to the observability maturity model
  </Card>
</CardGroup>
