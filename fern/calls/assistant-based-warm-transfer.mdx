---
title: Assistant-based warm transfer
subtitle: Use AI assistants to facilitate call transfers
slug: calls/assistant-based-warm-transfer
---

## Overview

Assistant-based warm transfer uses a dedicated AI assistant to handle the transfer process. You control how this assistant behaves through prompts and configuration. The assistant has access to the previous customer conversation and follows your instructions to decide whether to complete or cancel the transfer.

**In this guide, you'll learn to:**
- Configure transfer assistants with custom prompts
- Control how the assistant interacts with operators
- Handle failed transfer scenarios

## How it works

When using assistant-based warm transfer:

1. **Customer requests transfer** - The original assistant initiates the transfer
2. **Customer placed on hold** - Customer hears hold music while transfer is attempted
3. **Transfer assistant calls operator** - A dedicated assistant is placed on the call to the destination
4. **Assistant follows your prompts** - The transfer assistant has access to the previous conversation context and follows your configured behavior
5. **Transfer decision** - Based on the interaction, the assistant either:
   - **Completes transfer** (`transferSuccessful`) - Merges the calls and exits
   - **Cancels transfer** (`transferCancel`) - Returns the customer to the original assistant

**Transfer cancellation occurs when:**
- `maxDurationSeconds` is reached
- Operator doesn't answer
- Voicemail is detected (based on your prompt configuration)
- Any condition you define in your prompts

## Configuration

<Note>
The `function.name` property identifies your transfer tool. Use this name when instructing your assistant to perform transfers in system prompts.
</Note>

<CodeBlocks>
```json title="Basic Configuration"
{
  "type": "transferCall",
  "function": {
    "name": "salesTransferAssistant"
  },
  "destinations": [
    {
      "type": "number",
      "number": "+14155551234",
      "transferPlan": {
        "mode": "warm-transfer-experimental",
        "transferAssistant": {
          "firstMessage": "Hello, I have a customer on the line. Are you available to take this call?",
          "firstMessageMode": "assistant-speaks-first", // Default behavior - assistant speaks immediately
          "maxDurationSeconds": 120,
          "silenceTimeoutSeconds": 30,
          "model": {
            "provider": "openai",
            "model": "gpt-4o",
            "messages": [
              {
                "role": "system",
                "content": "You are a transfer assistant designed to facilitate call transfers between a customer and an operator. Your core responsibility is to talk to the operator and manage the transfer process efficiently. \n\n## Core Responsibility \n - Facilitate the transfer process by using transferSuccessful or transferCancel tools. Engage briefly with the operator as needed and then facilitate the transfer by calling the corresponding transfer tool. \n ## When to Respond\n- Answer questions about the transfer process or provide summaries when specifically asked by the operator\n- Respond to direct questions about the current transfer situation\n\\n ## Transfer Tools\n- Use transferSuccessful when the operator agrees to accept the call\n- Use transferCancel when the transfer cannot be completed\n\n- Only call the tool when you addressed all the operators questions"
              }
            ]
          }
        }
      }
    }
  ],
  "messages": [
    {
      "type": "request-start",
      "content": "I'll transfer you to our sales team. Please hold for a moment."
    },
    {
      "type": "request-failed",
      "content": "I apologize, but I'm having trouble connecting your call. Is there anything else I can help you with?"
    }
  ]
}
```
</CodeBlocks>

### Transfer assistant properties

<ParamField path="transferAssistant.firstMessage" type="string">
  The initial message spoken by the transfer assistant when the operator answers
</ParamField>

<ParamField path="transferAssistant.firstMessageMode" type="string" default="assistant-speaks-first">
  Controls when the transfer assistant delivers the first message:
  - `assistant-speaks-first`: The assistant immediately speaks the `firstMessage` when the operator answers
  - `assistant-waits-for-user`: The assistant waits for the operator to speak before responding with the `firstMessage`
</ParamField>

<ParamField path="transferAssistant.maxDurationSeconds" type="number">
  Maximum duration in seconds for the operator call. The transfer is automatically cancelled if this limit is reached.
</ParamField>

<ParamField path="transferAssistant.silenceTimeoutSeconds" type="number" default={30}>
  Number of seconds to wait during silence before automatically cancelling the transfer. Must be between 10 and 3600 seconds.
</ParamField>

<ParamField path="transferAssistant.model" type="object" required>
  Assistant configuration including provider, model, and system messages that control the transfer assistant's behavior
</ParamField>

## Built-in tools

The transfer assistant has access to two built-in tools:

<Note>
You can configure the transfer assistant to perform various tasks before making a decision, such as:
- Informing the operator about the customer's needs
- Asking the operator specific questions
- Following custom business logic you define in the prompts
</Note>

### transferSuccessful

Completes the transfer by:
- Merging the customer and operator calls
- Removing the transfer assistant from the call
- Connecting the parties directly

### transferCancel

Cancels the transfer by:
- Disconnecting from the operator
- Returning the customer to the original assistant
- Optionally playing a fallback message

## Additional examples

### Handling operator interactions

The transfer assistant can be configured to handle various operator responses:

<CodeBlocks>
```json title="Detailed Transfer Configuration"
{
  "type": "transferCall",
  "function": {
    "name": "warmTransferWithContext"
  },
  "destinations": [
    {
      "type": "number",
      "number": "+14155551234",
      "transferPlan": {
        "mode": "warm-transfer-experimental",
        "transferAssistant": {
          "firstMessage": "Hi, I have a customer on the line who needs help with their recent order. Are you available?",
          "firstMessageMode": "assistant-waits-for-user",
          "maxDurationSeconds": 90,
          "model": {
            "provider": "openai",
            "model": "gpt-4o",
            "messages": [
              {
                "role": "system",
                "content": "You are a transfer assistant. Your tasks:\n1. Confirm the operator is human and available\n2. Provide brief context about the customer's needs\n3. If they accept, call transferSuccessful\n4. If they decline or you detect voicemail, call transferCancel\n5. Keep the conversation under 30 seconds"
              }
            ]
          }
        }
      }
    }
  ],
  "messages": [
    {
      "type": "request-start",
      "content": "Transferring you to our specialist. Please hold."
    },
    {
      "type": "request-failed",
      "content": "I couldn't reach our specialist. Please try again later.",
      "endCallAfterSpokenEnabled": true
    }
  ]
}
```
</CodeBlocks>

### Multiple departments

Configure different transfer assistants for different departments:

<CodeBlocks>
```json title="Department-specific Transfers"
{
  "type": "transferCall",
  "function": {
    "name": "departmentTransferAssistant"
  },
  "destinations": [
    {
      "type": "number",
      "number": "+1234567890",
      "description": "Sales team transfer line",
      "transferPlan": {
        "mode": "warm-transfer-experimental",
        "transferAssistant": {
          "firstMessage": "Hey there, I have a potential customer interested in our enterprise plans. Are you available to pick up the call?",
          "maxDurationSeconds": 60,
          "model": {
            "provider": "openai",
            "model": "gpt-4o",
            "messages": [
              {
                "role": "system",
                "content": "You are a transfer assistant designed to facilitate call transfers between a customer and an operator. Your core responsibility is to talk to the operator and manage the transfer process efficiently. \n\n## Core Responsibility \n - Facilitate the transfer process by using transferSuccessful or transferCancel tools. Engage briefly with the operator as needed and then facilitate the transfer by calling the corresponding transfer tool. \n ## When to Respond\n- Answer questions about the transfer process or provide summaries when specifically asked by the operator\n- Respond to direct questions about the current transfer situation\n\\n ## Transfer Tools\n- Use transferSuccessful when the operator agrees to accept the call\n- Use transferCancel when the transfer cannot be completed\n\n- Only call the tool when you addressed all the operators questions"
              }
            ],
            "tools": [
              {
                "type": "transferSuccessful", // built-in tool
                "function": {
                  "name": "transferSuccessful",
                  "description": "Confirm the transfer when operator accepts"
                },
                "messages": [
                  {
                    "type": "request-start",
                    "content": "Great! I'll connect you to the customer now. One moment please."
                  },
                  {
                    "type": "request-complete",
                    "content": "https://desert-horse-9859.twil.io/assets/call_complete_chime.mp3"
                  }
                ]
              },
              {
                "type": "transferCancel", // built-in tool
                "function": {
                  "name": "transferCancel",
                  "description": "Cancel the transfer if operator declines or is unavailable"
                },
                "messages": [
                  {
                    "type": "request-complete",
                    "content": "I'll let the customer know about it."
                  }
                ]
              },
              {
                "type": "function", // custom tool
                "function": {
                  "name": "getCustomerInfo",
                  "description": "Get detailed customer information"
                },
                "server": {
                    "url": "https://vapi-webhook-listener-five.vercel.app/customer"
                }
              }
            ]
          }
        }
      }
    },
    {
      "type": "number",
      "number": "+0987654321",
      "description": "Technical Support team transfer line",
      "transferPlan": {
        "mode": "warm-transfer-experimental",
        "transferAssistant": {
          "firstMessage": "Hey there, I have a customer experiencing issues with API integration. Can you help?",
          "maxDurationSeconds": 90,
          "model": {
            "provider": "openai",
            "model": "gpt-4o"
          }
        }
      }
    }
  ],
  "messages": [
    {
      "type": "request-start",
      "content": "I'll transfer you to our team. Please hold for a moment."
    },
    {
      "type": "request-complete",
      "content": "https://desert-horse-9859.twil.io/assets/soothing-sound.mp3"   // played as hold music on the customer's side of the call
    },
    {
      "type": "request-failed",
      "content": "Sorry, none of our account executives are available right now. Our team get back to you later."
    }
  ]
}
```
</CodeBlocks>

## Best practices

<Tip>
**First message**: Keep it brief and state the purpose clearly.
</Tip>

<Note>
**Timeout duration**: Set `maxDurationSeconds` between 60-120 seconds. This limits how long the operator call can last before automatic cancellation.
</Note>

<Warning>
**System prompts**: Configure your prompts to handle voicemail detection, busy signals, and operator unavailability.
</Warning>

### System prompt configuration

Configure your transfer assistant to:
- **Detect voicemail** - Recognize automated messages and call `transferCancel`
- **Verify human presence** - Confirm a person answered before proceeding
- **Provide context** - Explain the customer's situation based on your knowledge
- **Handle rejections** - Define behavior when operators decline
- **Manage timing** - Complete interactions before `maxDurationSeconds`

## Limitations

<Info>
- Requires `warm-transfer-experimental` mode
- Only works with Twilio phone numbers
- Calls are limited by `maxDurationSeconds` to prevent indefinite duration
- Built-in tools (`transferSuccessful`, `transferCancel`) are predefined and cannot be removed
- The transfer assistant has access to the previous conversation context
</Info>

## Next steps

Now that you've configured assistant-based warm transfers:
- **[Call forwarding](../call-forwarding):** Learn about other transfer modes and options
- **[Assistant configuration](../assistants):** Configure assistant models and prompts
- **[Custom tools](../tools/custom-tools):** Add custom tools to your assistants
