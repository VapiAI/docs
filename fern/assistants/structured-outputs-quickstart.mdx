---
title: Structured outputs quickstart
subtitle: Get started with structured data extraction in 5 minutes
slug: assistants/structured-outputs-quickstart
---

## Overview

This quickstart guide will help you set up structured outputs to automatically extract customer information from phone calls. In just a few minutes, you'll create a structured output, link it to an assistant, and test data extraction.

### What are structured outputs?

Structured outputs are AI-powered analysis and extraction tools that intelligently process conversation data after calls end. They go beyond simple data extraction to provide intelligent analysis and evaluation. They work by:

1. **Processing complete call context** - After the call ends, structured outputs analyze the full transcript, messages, tool call results, and call metadata
2. **Intelligent extraction & analysis** - Based on your schema, they can extract data, evaluate outcomes, analyze sentiment, determine success criteria, and summarize complex interactions
3. **Validating and formatting** - Results are validated against your schema rules and formatted into clean, structured JSON
4. **Delivering insights** - The processed data and insights are available via API or webhooks once analysis is complete

### When are structured outputs generated?

Structured outputs are processed:
- **After call completion** - The full conversation is analyzed once the call ends
- **Processing time** - Typically completes within a few seconds after call termination
- **Available via** - Call artifacts in the API response or webhook events

### What data do structured outputs have access to?

When processing, structured outputs can analyze:
- **Complete transcript** - The full conversation between assistant and customer
- **Messages history** - All messages exchanged during the call
- **Tool call results** - Outcomes from any tools or functions executed
- **Assistant context** - System prompts and configuration used during the call

### Why use structured outputs?

**Beyond simple data extraction:**
- **Call evaluation** - Determine if objectives were met (appointment booked, issue resolved)
- **Sentiment analysis** - Understand customer satisfaction and emotional state
- **CSAT scoring** - Extract customer satisfaction scores from feedback
- **Intelligent summaries** - Generate contextual summaries of complex conversations
- **Success metrics** - Evaluate agent performance and call outcomes

**Operational benefits:**
- **Automate data entry** - No more manual transcription or form filling
- **Ensure consistency** - Every call captures the same structured information
- **Enable integrations** - Automatically sync data to CRMs, ticketing systems, or databases
- **Improve analytics** - Structured data is easier to analyze and report on

## What you'll build

A customer support assistant that automatically extracts:
- Customer name and contact details
- Issue description and priority
- Requested follow-up actions

## Prerequisites

<CardGroup cols={2}>
  <Card title="Vapi account" icon="user">
    Sign up at [dashboard.vapi.ai](https://dashboard.vapi.ai)
  </Card>
  <Card title="API key" icon="key">
    Get your API key from **API Keys** on sidebar
  </Card>
</CardGroup>

## Step 1: Create your structured output

Define what information you want to extract using a [JSON Schema](https://json-schema.org/learn/getting-started-step-by-step). JSON Schema is a standard for describing data structures - [learn more about JSON Schema here](https://json-schema.org/understanding-json-schema/).

<Tabs>
  <Tab title="Dashboard">
    <Steps>
      <Step title="Navigate to Structured Outputs">
        1. Log in to [dashboard.vapi.ai](https://dashboard.vapi.ai)
        2. Click on **Structured Outputs** in the left sidebar
        3. Click **Create New Structured Output**
      </Step>

      <Step title="Configure Basic Settings">
        1. **Name**: Enter "Support Ticket"
        2. **Type**: Select "Object"
        3. **Description**: Add "Extract support ticket information from customer calls"
      </Step>

      <Step title="Define Your Schema">
        Use the visual schema builder:
        ```json
        {
          "type": "object",
          "properties": {
            "customer": {
              "type": "object",
              "properties": {
                "name": {"type": "string", "description": "Customer full name"},
                "email": {"type": "string", "format": "email", "description": "Customer email"},
                "phone": {"type": "string", "description": "Customer phone number"}
              },
              "required": ["name"]
            },
            "issue": {
              "type": "object",
              "properties": {
                "description": {"type": "string", "description": "Issue description"},
                "category": {
                  "type": "string",
                  "enum": ["billing", "technical", "general", "complaint"],
                  "description": "Issue category"
                },
                "priority": {
                  "type": "string",
                  "enum": ["low", "medium", "high", "urgent"],
                  "description": "Priority level"
                }
              },
              "required": ["description", "category"]
            },
            "followUp": {
              "type": "object",
              "properties": {
                "required": {"type": "boolean", "description": "Whether follow-up is needed"},
                "method": {
                  "type": "string",
                  "enum": ["email", "phone", "none"],
                  "description": "Preferred follow-up method"
                },
                "notes": {"type": "string", "description": "Additional notes for follow-up"}
              }
            }
          },
          "required": ["customer", "issue"]
        }
        ```
      </Step>

      <Step title="Save and Attach">
        1. Click **Create Structured Output**
        2. In the structured output dialog, you can directly attach it to an assistant or workflow
        3. Select an existing assistant to attach this output to that assistant
      </Step>
    </Steps>
  </Tab>

  <Tab title="cURL">
```bash title="cURL"
curl -X POST https://api.vapi.ai/structured-output \
  -H "Authorization: Bearer $VAPI_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Support Ticket",
    "type": "ai",
    "description": "Extract support ticket information from customer calls",
    "schema": {
      "type": "object",
      "properties": {
        "customer": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "description": "Customer full name"
            },
            "email": {
              "type": "string",
              "format": "email",
              "description": "Customer email address"
            },
            "phone": {
              "type": "string",
              "description": "Customer phone number"
            }
          },
          "required": ["name"]
        },
        "issue": {
          "type": "object",
          "properties": {
            "description": {
              "type": "string",
              "description": "Description of the customer issue"
            },
            "category": {
              "type": "string",
              "enum": ["billing", "technical", "general", "complaint"],
              "description": "Issue category"
            },
            "priority": {
              "type": "string",
              "enum": ["low", "medium", "high", "urgent"],
              "description": "Issue priority level"
            }
          },
          "required": ["description", "category"]
        },
        "followUp": {
          "type": "object",
          "properties": {
            "required": {
              "type": "boolean",
              "description": "Whether follow-up is needed"
            },
            "method": {
              "type": "string",
              "enum": ["email", "phone", "none"],
              "description": "Preferred follow-up method"
            },
            "notes": {
              "type": "string",
              "description": "Additional notes for follow-up"
            }
          }
        }
      },
      "required": ["customer", "issue"]
    }
  }'
```
  </Tab>

  <Tab title="TypeScript (Server SDK)">
    ```typescript
import { VapiClient } from "@vapi-ai/server-sdk";

const vapi = new VapiClient({ token: process.env.VAPI_API_KEY! });

const structuredOutput = await vapi.structuredOutputs.create({
  name: "Support Ticket",
  type: "ai",
  description: "Extract support ticket information from customer calls",
  schema: {
    type: "object",
    properties: {
      customer: {
        type: "object",
        properties: {
          name: {
            type: "string",
            description: "Customer full name"
          },
          email: {
            type: "string",
            format: "email",
            description: "Customer email address"
          },
          phone: {
            type: "string",
            description: "Customer phone number"
          }
        },
        required: ["name"]
      },
      issue: {
        type: "object",
        properties: {
          description: {
            type: "string",
            description: "Description of the customer issue"
          },
          category: {
            type: "string",
            enum: ["billing", "technical", "general", "complaint"],
            description: "Issue category"
          },
          priority: {
            type: "string",
            enum: ["low", "medium", "high", "urgent"],
            description: "Issue priority level"
          }
        },
        required: ["description", "category"]
      },
      followUp: {
        type: "object",
        properties: {
          required: {
            type: "boolean",
            description: "Whether follow-up is needed"
          },
          method: {
            type: "string",
            enum: ["email", "phone", "none"],
            description: "Preferred follow-up method"
          },
          notes: {
            type: "string",
            description: "Additional notes for follow-up"
          }
        }
      }
    },
    required: ["customer", "issue"]
  }
});

console.log('Created structured output:', structuredOutput.id);
// Save this ID - you'll need it in the next step
```
  </Tab>

  <Tab title="Python (Server SDK)">
    ```python
from vapi import Vapi
import os

vapi = Vapi(token=os.environ.get("VAPI_API_KEY"))

structured_output = vapi.structured_outputs.create(
    name="Support Ticket",
    type="ai",
    description="Extract support ticket information from customer calls",
    schema={
        "type": "object",
        "properties": {
            "customer": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string",
                        "description": "Customer full name"
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "description": "Customer email address"
                    },
                    "phone": {
                        "type": "string",
                        "description": "Customer phone number"
                    }
                },
                "required": ["name"]
            },
            "issue": {
                "type": "object",
                "properties": {
                    "description": {
                        "type": "string",
                        "description": "Description of the customer issue"
                    },
                    "category": {
                        "type": "string",
                        "enum": ["billing", "technical", "general", "complaint"],
                        "description": "Issue category"
                    },
                    "priority": {
                        "type": "string",
                        "enum": ["low", "medium", "high", "urgent"],
                        "description": "Issue priority level"
                    }
                },
                "required": ["description", "category"]
            },
            "followUp": {
                "type": "object",
                "properties": {
                    "required": {
                        "type": "boolean",
                        "description": "Whether follow-up is needed"
                    },
                    "method": {
                        "type": "string",
                        "enum": ["email", "phone", "none"],
                        "description": "Preferred follow-up method"
                    },
                    "notes": {
                        "type": "string",
                        "description": "Additional notes for follow-up"
                    }
                }
            }
        },
        "required": ["customer", "issue"]
    }
)

print(f'Created structured output: {structured_output.id}')
# Save this ID - you'll need it in the next step
```
  </Tab>
</Tabs>

<Note>
In the API approach, you'll need to save the returned `id` to attach it to an assistant. In the Dashboard, you can attach it directly when creating the structured output.
</Note>

## Step 2: Create and test a call

Now test your structured output by making a call.

<Note>
**Prerequisites**: You need an assistant already created with:
- The structured output from Step 1 attached in `artifactPlan.structuredOutputIds`
- A model and voice configured
- System prompt appropriate for your use case

You can create an assistant via the Dashboard or API, then use its ID in the examples below.
</Note>

<Tabs>
  <Tab title="Dashboard">
    <Steps>
      <Step title="Start a test call">
        1. Navigate to your assistant (from **Assistants** in the sidebar)
        2. Ensure your structured output is attached in the **Artifact Plan** section
        3. Click **Talk to Assistant** in the top right corner
        4. The assistant will start speaking
      </Step>

      <Step title="Have a conversation">
        Try saying: "Hi, my name is John Smith. My email is john@example.com. I'm having trouble logging into my account - it keeps showing an error message. This is pretty urgent for me."
      </Step>

      <Step title="End the call">
        Click **End Call** when you're done testing
      </Step>
    </Steps>
  </Tab>

  <Tab title="TypeScript (Server SDK)">
    ```typescript
import { VapiClient } from "@vapi-ai/server-sdk";

const vapi = new VapiClient({ token: process.env.VAPI_API_KEY! });

// Start a web call with your assistant (replace with your assistant ID)
const call = await vapi.calls.create({
  assistantId: "your-assistant-id", // Use an assistant with structured outputs attached
  type: "webCall"
});

console.log('Call started:', call.id);
console.log('Join URL:', call.webCallUrl);

// For phone calls, use:
// const call = await vapi.calls.create({
//   assistantId: "your-assistant-id",
//   type: "outboundPhoneCall",
//   phoneNumberId: "your-phone-number-id",
//   customer: {
//     number: "+1234567890"
//   }
// });
```
  </Tab>

  <Tab title="Python (Server SDK)">
    ```python
from vapi import Vapi
import os

vapi = Vapi(token=os.environ.get("VAPI_API_KEY"))

# Start a web call with your assistant (replace with your assistant ID)
call = vapi.calls.create(
    assistant_id="your-assistant-id",  # Use an assistant with structured outputs attached
    type="webCall"
)

print(f'Call started: {call.id}')
print(f'Join URL: {call.web_call_url}')

# For phone calls, use:
# call = vapi.calls.create(
#     assistant_id="your-assistant-id",
#     type="outboundPhoneCall",
#     phone_number_id="your-phone-number-id",
#     customer={
#         "number": "+1234567890"
#     }
# )
```
  </Tab>

  <Tab title="cURL">
    ```bash
# Start a web call
curl -X POST https://api.vapi.ai/call \
  -H "Authorization: Bearer $VAPI_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "assistantId": "your-assistant-id",
    "type": "webCall"
  }'

# For phone calls:
# curl -X POST https://api.vapi.ai/call \
#   -H "Authorization: Bearer $VAPI_API_KEY" \
#   -H "Content-Type: application/json" \
#   -d '{
#     "assistantId": "your-assistant-id",
#     "type": "outboundPhoneCall",
#     "phoneNumberId": "your-phone-number-id",
#     "customer": {
#       "number": "+1234567890"
#     }
#   }'
```
  </Tab>
</Tabs>

<Tip>
During the call, try saying something like: "Hi, my name is John Smith. My email is john@example.com. I'm having trouble logging into my account - it keeps showing an error message. This is pretty urgent for me."
</Tip>

## Step 3: Retrieve extracted data

After the call ends, retrieve the extracted information:

<Tabs>
  <Tab title="Dashboard">
    <Steps>
      <Step title="View call details">
        1. Navigate to **Call Logs** in the left sidebar
        2. Click on your recent call to view details
      </Step>

      <Step title="Check extracted data">
        1. In the call details, find the **Structured Outputs** section
        2. View the extracted JSON data for your "Support Ticket" output
        3. The data will be displayed in a formatted JSON view showing each output with its ID, name, and result
      </Step>
    </Steps>

    ### How structured outputs appear in Call Logs
    
    When you view a call in the Call Logs page, structured outputs are displayed in the following format:
    
    ```json
    {
      "550e8400-e29b-41d4-a716-446655440001": {
        "name": "Support Ticket",
        "result": {
          "customer": {
            "name": "John Smith",
            "email": "john@example.com",
            "phone": "+1234567890"
          },
          "issue": {
            "description": "Unable to login to account, receiving error message",
            "category": "technical",
            "priority": "urgent"
          },
          "followUp": {
            "required": true,
            "method": "email",
            "notes": "Customer needs immediate assistance with login issue"
          }
        }
      }
    }
    ```
    
    **Structure explanation:**
    - **Root level**: Contains output IDs (UUIDs) as keys
    - **name**: The name of the structured output configuration
    - **result**: The actual extracted data based on your schema
      - For object schemas: Contains the nested structure with all extracted fields
      - For boolean schemas: Contains `true` or `false`
      - For string schemas: Contains the extracted text
      - For number schemas: Contains the numeric value
    
    <Note>
    If you have multiple structured outputs attached to an assistant, each will appear with its own UUID key in the structuredOutputs object.
    </Note>
  </Tab>

  <Tab title="TypeScript (Server SDK)">
    ```typescript
import { VapiClient } from "@vapi-ai/server-sdk";

const vapi = new VapiClient({ token: process.env.VAPI_API_KEY! });

// Wait a few seconds after call ends for processing
setTimeout(async () => {
  const callData = await vapi.calls.get(call.id);

  const outputs = callData.artifact?.structuredOutputs;
  
  if (outputs) {
    Object.entries(outputs).forEach(([outputId, data]) => {
      console.log('Extracted Support Ticket:');
      console.log(JSON.stringify(data.result, null, 2));
    });
  }
}, 5000);
```
  </Tab>

  <Tab title="Python (Server SDK)">
    ```python
from vapi import Vapi
import time
import json
import os

vapi = Vapi(token=os.environ.get("VAPI_API_KEY"))

# Wait a few seconds after call ends for processing
time.sleep(5)

call_data = vapi.calls.get(call.id)

outputs = call_data.artifact.get('structuredOutputs', {}) if call_data.artifact else {}

for output_id, data in outputs.items():
    print('Extracted Support Ticket:')
    print(json.dumps(data['result'], indent=2))
```
  </Tab>

  <Tab title="cURL">
    ```bash
curl -X GET "https://api.vapi.ai/call/YOUR_CALL_ID_HERE" \
  -H "Authorization: Bearer $VAPI_API_KEY"
```
  </Tab>
</Tabs>

### Expected output

The extracted data (the `result` field from the API response) will look like this:

```json
{
  "customer": {
    "name": "John Smith",
    "email": "john@example.com",
    "phone": "+1234567890"
  },
  "issue": {
    "description": "Unable to login to account, receiving error message",
    "category": "technical",
    "priority": "urgent"
  },
  "followUp": {
    "required": true,
    "method": "email",
    "notes": "Customer needs immediate assistance with login issue"
  }
}
```

<Note>
When accessing via API, this data is nested inside the structured output object at `call.artifact.structuredOutputs[outputId].result`. The Dashboard shows the complete structure including the output ID and name.
</Note>

## Next steps

<CardGroup cols={2}>
  <Card title="Explore schema types" icon="code" href="/assistants/structured-outputs#schema-types">
    Learn about different data types and validation options
  </Card>
  
  <Card title="Custom models" icon="brain" href="/assistants/structured-outputs#custom-models">
    Configure different AI models for extraction
  </Card>
  
  <Card title="Advanced examples" icon="rocket" href="/assistants/structured-outputs-examples">
    See complex real-world extraction scenarios
  </Card>
  
  <Card title="API reference" icon="book" href="/api-reference#structured-output">
    Complete API documentation for structured outputs
  </Card>
</CardGroup>

## Common patterns

### Multiple extractions

You can attach multiple structured outputs to extract different types of data:

```javascript
{
  artifactPlan: {
    structuredOutputIds: [
      "550e8400-e29b-41d4-a716-446655440001",    // Customer details extraction
      "550e8400-e29b-41d4-a716-446655440002",    // Appointment requests extraction  
      "550e8400-e29b-41d4-a716-446655440003"     // Satisfaction feedback extraction
    ]
  }
}
```

<Note>The `structuredOutputIds` are UUIDs returned when you create each structured output configuration.</Note>

### Example: Intelligent analysis with multiple outputs

Structured outputs can perform sophisticated analysis beyond simple data extraction. Here's a real example showing various types of intelligent evaluation:

```json
{
  "2ca00f20-f2c3-4d74-af2e-52842be5885c": {
    "name": "informationOnFileIsCorrect",
    "result": false
  },
  "4748e1aa-6c7a-49e6-bbde-c4365ef69c6e": {
    "name": "Appointment Rescheduled",
    "result": false
  },
  "4d4bac33-2cea-43d4-a3b3-4554932b8933": {
    "name": "CSAT",
    "result": 8
  },
  "7898e478-c8dc-4ff8-a3f6-4a46555a957f": {
    "name": "Appointment Booked",
    "result": true
  },
  "a0ca58b1-c343-4628-b088-bf53aabacab9": {
    "name": "Call Summary",
    "result": "The user called to schedule a consultation appointment for next week, specifically on Wednesday afternoon..."
  },
  "b5a390d8-87c5-4015-b1ad-ed237201bdf0": {
    "name": "Success Evaluation - Pass/Fail",
    "result": true
  }
}
```

This example demonstrates intelligent extraction capabilities:
- **Call outcome evaluation**: `Appointment Booked` (true) - Analyzed if the call's objective was achieved
- **Data verification**: `informationOnFileIsCorrect` (false) - Evaluated if customer data needed updates
- **Success metrics**: `Success Evaluation - Pass/Fail` (true) - Determined overall call success based on multiple criteria
- **CSAT extraction**: `CSAT` (8) - Extracted satisfaction score from customer feedback
- **Intelligent summarization**: `Call Summary` - Generated contextual summary of the conversation
- **Process tracking**: `Appointment Rescheduled` (false) - Tracked specific actions taken during the call

Each output analyzes the complete call context including transcript, tool results, and metadata to provide actionable insights.

### Validation patterns

Common validation patterns for reliable extraction:

```json
{
  "email": {
    "type": "string",
    "format": "email",
    "pattern": "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"
  },
  "phone": {
    "type": "string",
    "pattern": "^\\+?[1-9]\\d{1,14}$"
  },
  "zipCode": {
    "type": "string",
    "pattern": "^\\d{5}(-\\d{4})?$"
  }
}
```

## Tips for success

<Note>
**Best practices for reliable extraction:**
- Start with required fields only for critical data
- Use enums for categorical data to ensure consistency
- Add descriptions to help the AI understand context
- Test with real conversations before production use
- Monitor extraction success rates and iterate on schemas
</Note>

## Troubleshooting

| Issue | Solution |
|-------|----------|
| No data extracted | Verify the information was mentioned in the call and check schema validity |
| Partial extraction | Make non-critical fields optional and simplify nested structures |
| Incorrect values | Add more specific validation patterns and field descriptions |
| Extraction fails | Check API logs, verify assistant configuration, and test with simpler schema |

## Get help

Need assistance? We're here to help:
- [API Documentation](/api-reference)
- [Discord Community](https://discord.gg/pUFNcf2WmH)
- [Support](mailto:support@vapi.ai)
